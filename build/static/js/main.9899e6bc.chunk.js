(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{23:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(1),o=n.n(r),i=n(17),s=n.n(i),a=(n(23),n(3)),u=n(4),d=n.n(u),f=n(8),j="http://localhost:3001/api/persons",l=function(e){return e.data},b=function(e){return d.a.post(j,e).then(l)},h=function(e,t){return d.a.put("".concat(j,"/").concat(e),t).then(l)},m=function(e){return d.a.delete("".concat(j,"/").concat(e))},O=function(e){return null===e.message?null:Object(c.jsx)("div",{class:e.class,children:e.message})},p=function(e){return Object(c.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n={name:e.newName,number:e.newNumber},c=Object(f.a)(e.persons);if(c.some((function(t){return t.name===e.newName}))){if(window.confirm("".concat(e.newName," is already added to phonebook, replace the old number with a new one?"))){var r=e.persons.filter((function(e){return e.name===n.name}))[0].id,o=e.persons.findIndex((function(e){return e.id===r}));h(r,n),c[o]=n,e.setPersons(c)}}else b(n).then((function(){c.push(n),e.setPersons(c),e.triggerUpdate(),e.setNotification("Added ".concat(n.name)),e.setNotificationClass("success"),setTimeout((function(){return e.setNotification(null)}),2e3)}))},children:[Object(c.jsxs)("div",{children:["name: ",Object(c.jsx)("input",{onChange:e.nameHandler})]}),Object(c.jsxs)("div",{children:["number: ",Object(c.jsx)("input",{onChange:e.numberHandler})]}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{children:"add"})})]})},g=function(e){return Object(c.jsxs)("div",{children:["filter shown with: ",Object(c.jsx)("input",{onChange:e.onChange})]})},x=function(e){var t=Object(f.a)(e.persons);return t.filter((function(t){return t.name.toLowerCase().includes(e.filter.toLowerCase())})).map((function(n){return Object(c.jsxs)("p",{children:[n.name," ",n.number," ",Object(c.jsx)("button",{onClick:function(){window.confirm("Delete ".concat(n.name))&&(t=t.filter((function(e){return e.id!==n.id})),m(n.id).then(e.setPersons(t)).catch((function(t){e.setNotification("Information of ".concat(n.name," has already been removed from server")),e.setNotificationClass("error"),setTimeout((function(){return e.setNotification(null)}),5e3)})),e.triggerUpdate())},children:"delete"})," "]})}))},w=(n(42),function(){var e=Object(r.useState)([]),t=Object(a.a)(e,2),n=t[0],o=t[1],i=Object(r.useState)(""),s=Object(a.a)(i,2),u=s[0],f=s[1],j=Object(r.useState)(""),l=Object(a.a)(j,2),b=l[0],h=l[1],m=Object(r.useState)(""),w=Object(a.a)(m,2),v=w[0],N=w[1],C=Object(r.useState)(null),S=Object(a.a)(C,2),P=S[0],k=S[1],F=Object(r.useState)(""),H=Object(a.a)(F,2),I=H[0],L=H[1],T=Object(r.useState)(!0),U=Object(a.a)(T,2),y=U[0],D=U[1],A=function(){return D(!y)};return Object(r.useEffect)((function(){d.a.get("/api/persons").then((function(e){o(e.data)}))}),[y]),Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:"Phonebook"}),Object(c.jsx)(O,{message:P,class:I}),Object(c.jsx)(g,{onChange:function(e){return N(e.target.value)}}),Object(c.jsx)("h3",{children:"Add a new"}),Object(c.jsx)(p,{nameHandler:function(e){return f(e.target.value)},numberHandler:function(e){return h(e.target.value)},persons:n,newName:u,newNumber:b,setPersons:o,setNotification:k,setNotificationClass:L,triggerUpdate:A}),Object(c.jsx)("h3",{children:"Numbers"}),Object(c.jsx)(x,{persons:n,setPersons:o,filter:v,setNotification:k,setNotificationClass:L,triggerUpdate:A})]})}),v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,44)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),o(e),i(e)}))};s.a.render(Object(c.jsx)(o.a.StrictMode,{children:Object(c.jsx)(w,{})}),document.getElementById("root")),v()}},[[43,1,2]]]);
//# sourceMappingURL=main.9899e6bc.chunk.js.map